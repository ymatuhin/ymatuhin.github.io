---
layout: post
title: Одиннадцатиклассница, или фиксим баги с длинным текстом
categories: front-end
description: Проверяем готовность верстки с букмарклетом для длинных слов и рассмиваем способы исправления возникающих багов.
tags: [css, одиннадцатиклассница, баг, фикс, переносы, многоточие]

image:
  path: /assets/img/11grade/preview.jpg
  width: 720
  height: 374
  caption: "Когда не хочется фиксить..."
---

{% include media-post-image.html %}

Эта статья — логическое продолжение статьи «[Одиннадцатиклассница, или тестируем баги вёрстки](https://habrahabr.ru/company/2gis/blog/246831/)». В ней говорится о тестировании верстки с использованием длинных слов. Я расскажу о способах борьбы с этими багами и поделюсь букмарклетом для тестирования вашей верстки.



Прежде чем продолжить, я хочу чтобы вы посмотрели эту [демку][1]. В ней четыре блока, которые на первый взгляд кажутся готовыми. Но если проверить на «одиннадцатиклассницу», то станет видно что первый блок плох. А остальные выглядят куда лучше.

{%
	include media-image.html
	url="11grade/example1.jpg"
	width="384"
	height="573"
	alt="Одиннадцатиклассница, или фиксим баги с длинным текстом — пример блока"
%}

У нас 3 варианта для фикса таких ошибок:

1. Установить перенос текста через CSS;
2. Обрезать лишний текст и вставить в конце многоточие;
3. Разбить длинные слова и вставить в мягкий перенос (&shy;);

Я расскажу о плюсах и минусах этих способов. Но какой вариант выбрать, решать только вам.

## Установить перенос текста через CSS

~~~css
.hyphens {
    word-wrap: break-word;
    overflow-wrap: break-word;
    -webkit-hyphens: auto;
    -ms-hyphens: auto;
    -moz-hyphens: auto;
    hyphens: auto;
}
~~~

**`+`** нужно только добавить класс для блока<br>
**`+`** универсальный код, который везде работает<br>

**`—`** в браузерах на движке chromium не ставит символ переноса строки «-»

## Обрезать лишний текст и вставить в конце многоточие
~~~css
.ellipsis {
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
}
~~~


**`+`** нужно только добавить класс для блока<br>
**`+`** универсальный код, который везде работает<br>
**`+`** красиво выглядит<br>

**`—`** не подойдет для блока с большим текстом

## Разбить длинные слова и вставить в мягкий перенос
~~~html
Один&shy;над&shy;ца&shy;ти&shy;класс&shy;ни&shy;ца
~~~


**`+`** везде работает<br>
**`+`** красиво выглядит (вместе с переносами)<br>

**`—`** нужно либо вставлять переносы руками, либо автоматизировать

### Дополнения
Способ с переносом подойдет для больших блоков текста. С многоточием — для кнопок фиксированной высоты. А вставлять мягкий перенос нужно либо автоматизированно, либо в экстренном случае когда поехала верстка из-за длинного слова (хотя тоже так-себе вариант).

При использовании способа с переносом блок может увеличиться в размерах по вертикали. Вы можете ограничить его через `max-height` и добавить скролл (`overflow: auto`).

### Букмарклет
Перетащите ссылку из [демо страницы][1] себе в панель закладок. Теперь при нажатии на неё, текст на сайте заменится на текст с длинными словами и вы протестируете верстку.

Исходный код букмарклета:

~~~html
<a href="javascript:(function () {var a, w = document.createNodeIterator(document, NodeFilter.SHOW_TEXT); while (a = w.nextNode()) { if (a.textContent.trim().length && a.parentNode.tagName != 'STYLE' && a.parentNode.tagName !== 'TITLE' && a.parentNode.tagName !== 'SCRIPT') a.textContent = 'Одиннадцатиклассница пошла посмотреть на достопримечательность, а Константин Константинопольский рассказал о клиентоориентированности.' }})()">11классница</a>
~~~

[1]: https://codepen.io/ymatuhin/pen/xrMxJz?editors=1100
